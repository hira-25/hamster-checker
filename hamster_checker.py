import streamlit as st

# 食材データベース（判定＋説明）
food_db = {
    "にんじん": {"判定": "OK", "説明": "ハムスターが喜ぶ安全な野菜。皮をむいて少量を与えてください。"},
    "キャベツ": {"判定": "OK", "説明": "食物繊維が豊富で安全。ただし水分が多いので少量に。"},
    "ブロッコリー": {"判定": "OK", "説明": "茹でて冷ましたものを少量なら安全です。"},
    "ほうれん草": {"判定": "OK", "説明": "カルシウムが多く与えすぎ注意。生より茹でて与えるのが望ましい。"},
    "きゅうり": {"判定": "OK", "説明": "水分が多くて夏場の水分補給に良い。与えすぎ注意。"},
    "かぼちゃ": {"判定": "OK", "説明": "甘くて好物な子も多い。皮と種は除いて与える。"},
    "バナナ": {"判定": "OK", "説明": "糖分が多いのでおやつ程度に。乾燥バナナもOK。"},
    "りんご": {"判定": "OK", "説明": "果肉はOKだが種は有毒なので必ず取り除いて。"},
    "いちご": {"判定": "OK", "説明": "ビタミン豊富で少量ならOK。酸味が強いものは避ける。"},
    "枝豆": {"判定": "OK", "説明": "塩をつけず茹でた状態ならOK。皮は除く。"},
    "トウモロコシ": {"判定": "OK", "説明": "甘みがあって喜ばれる。茹でて冷ましたものを少量。"},
    "パン": {"判定": "少量ならOK", "説明": "塩分と糖分が多いためごく少量をおやつ程度に。"},
    "ごはん": {"判定": "少量ならOK", "説明": "冷ました白ごはんをほんの少量ならOK。味付きはNG。"},
    "ピーナッツ": {"判定": "少量ならOK", "説明": "脂質が多いので与えすぎに注意。無塩で。"},
    "チーズ": {"判定": "少量ならOK", "説明": "塩分と脂肪が多いのでほんの少量だけ。"},
    "レタス": {"判定": "少量ならOK", "説明": "水分が多く与えすぎると下痢に。少量にとどめて。"},
    "トマト": {"判定": "NG", "説明": "未熟な部分や皮・種にソラニンが含まれ中毒の危険あり。"},
    "じゃがいも": {"判定": "NG", "説明": "芽や皮に有毒なソラニンが含まれるため危険。"},
    "たまねぎ": {"判定": "NG", "説明": "赤血球を壊す成分があり、貧血や中毒の原因に。"},
    "にんにく": {"判定": "NG", "説明": "強い刺激物で、消化器にダメージを与える可能性あり。"},
    "アボカド": {"判定": "NG", "説明": "ペルシンという成分がハムスターにとって有毒。"},
    "チョコレート": {"判定": "NG", "説明": "テオブロミンが含まれており、神経系に影響を与える。"},
    "ぶどう": {"判定": "NG", "説明": "中毒の可能性がある。犬や猫と同様に避けるべき。"},
    "みかん": {"判定": "NG", "説明": "柑橘類の酸味は胃腸に負担がかかるため不適。"},
    "パイナップル": {"判定": "NG", "説明": "酸味が強く、酵素によって口内炎の原因になる。"},
    "ヨーグルト": {"判定": "NG", "説明": "乳製品は基本的に避けた方が良い。腸内環境を乱すことも。"},
    "アイスクリーム": {"判定": "NG", "説明": "糖分・乳成分・添加物が多すぎて論外。"},
    "ジュース": {"判定": "NG", "説明": "砂糖が非常に多く、添加物も含まれるため危険。"},
    "ラーメン": {"判定": "NG", "説明": "塩分・脂質ともに多く、体に悪い要素しかない。"},
    "スナック菓子": {"判定": "NG", "説明": "人工調味料・塩分・脂肪すべてNG。"},
    "コーヒー": {"判定": "NG", "説明": "カフェインはハムスターにとって強い毒。"},
    "お茶": {"判定": "NG", "説明": "カフェインや渋み成分が含まれており不適。"},
    "牛乳": {"判定": "NG", "説明": "乳糖を分解できず、下痢を起こす可能性あり。"},
    "のり": {"判定": "NG", "説明": "塩分を含みやすく、消化にも悪いため避けるべき。"},
    "梅干し": {"判定": "NG", "説明": "塩分・酸味ともに強すぎて健康を害する可能性大。"}
}

st.title("🐹 ハムスター 食べものチェッカー（理由つき）")
st.write("食材を入力すると、ハムスターが食べてもいいか、理由付きで教えてくれるよ！")

# 食材入力
food = st.text_input("食べものの名前を入力してね：")

# 判定
if st.button("チェック！"):
    item = food_db.get(food.strip())
    if item:
        判定 = item["判定"]
        説明 = item["説明"]

        if 判定 == "OK":
            st.success(f"「{food}」は【OK】です！🐹✨")
        elif 判定 == "NG":
            st.error(f"⚠️ 「{food}」は【NG】です！食べさせないでね。")
        elif 判定 == "少量ならOK":
            st.warning(f"「{food}」は【少量ならOK】です！")

        st.markdown(f"**📖 理由：** {説明}")
    else:
        st.info(f"「{food}」はまだデータベースに登録されていません。")
